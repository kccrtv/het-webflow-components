/*! dom-to-image-more 23-10-2025 */
(l=>{let m=(()=>{let e=0;return{escape:function(e){return e.replace(/([.*+?^${}()|[\]/\\])/g,"\\$1")},isDataUrl:function(e){return-1!==e.search(/^(data:)/)},canvasToBlob:function(t){if(t.toBlob)return new Promise(function(e){t.toBlob(e)});return(r=>new Promise(function(e){var t=s(r.toDataURL().split(",")[1]),n=t.length,o=new Uint8Array(n);for(let e=0;e<n;e++)o[e]=t.charCodeAt(e);e(new Blob([o],{type:"image/png"}))}))(t)},resolveUrl:function(e,t){var n=document.implementation.createHTMLDocument(),o=n.createElement("base"),r=(n.head.appendChild(o),n.createElement("a"));return n.body.appendChild(r),o.href=t,r.href=e,r.href},getAndEncode:function(l){let e=d.impl.urlCache.find(function(e){return e.url===l});e||(e={url:l,promise:null},d.impl.urlCache.push(e));null===e.promise&&(d.impl.options.cacheBust&&(l+=(/\?/.test(l)?"&":"?")+(new Date).getTime()),e.promise=new Promise(function(n){let r=new XMLHttpRequest;function i(e){console.error(e),n("")}function t(){var e=d.impl.options.imagePlaceholder;e?n(e):i("Status:"+r.status+" while fetching resource: "+l)}if(r.timeout=d.impl.options.httpTimeout,r.onerror=t,r.ontimeout=t,r.onloadend=function(){if(r.readyState===XMLHttpRequest.DONE){var e=r.status;if(0===e&&l.toLowerCase().startsWith("file://")||200<=e&&e<=300&&null!==r.response){e=r.response;e instanceof Blob||i("Expected response to be a Blob, but got: "+typeof e);let t=new FileReader;t.onloadend=function(){var e=t.result;n(e)};try{t.readAsDataURL(e)}catch(e){i("Failed to read the response as Data URL: "+e.toString())}}else t()}},0<d.impl.options.useCredentialsFilters.length&&(d.impl.options.useCredentials=0<d.impl.options.useCredentialsFilters.filter(e=>0<=l.search(e)).length),d.impl.options.useCredentials&&(r.withCredentials=!0),d.impl.options.corsImg&&0===l.indexOf("http")&&-1===l.indexOf(window.location.origin)){var e="POST"===(d.impl.options.corsImg.method||"GET").toUpperCase()?"POST":"GET";r.open(e,(d.impl.options.corsImg.url||"").replace("#{cors}",l),!0);let t=!1,n=d.impl.options.corsImg.headers||{},o=(Object.keys(n).forEach(function(e){-1!==n[e].indexOf("application/json")&&(t=!0),r.setRequestHeader(e,n[e])}),(e=>{try{return JSON.parse(JSON.stringify(e))}catch(e){i("corsImg.data is missing or invalid:"+e.toString())}})(d.impl.options.corsImg.data||""));Object.keys(o).forEach(function(e){"string"==typeof o[e]&&(o[e]=o[e].replace("#{cors}",l))}),r.responseType="blob",r.send(t?JSON.stringify(o):o)}else r.open("GET",l,!0),r.responseType="blob",r.send()}));return e.promise},uid:function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+e++},asArray:function(t){var n=[],o=t.length;for(let e=0;e<o;e++)n.push(t[e]);return n},escapeXhtml:function(e){return e.replace(/%/g,"%25").replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(r){return"data:,"!==r?new Promise(function(e,t){let n=document.createElementNS("http://www.w3.org/2000/svg","svg"),o=new Image;d.impl.options.useCredentials&&(o.crossOrigin="use-credentials"),o.onload=function(){document.body.removeChild(n),window&&window.requestAnimationFrame?window.requestAnimationFrame(function(){e(o)}):e(o)},o.onerror=e=>{document.body.removeChild(n),t(e)},n.appendChild(o),o.src=r,document.body.appendChild(n)}):Promise.resolve()},width:function(e){var t=i(e,"width");if(!isNaN(t))return t;var t=i(e,"border-left-width"),n=i(e,"border-right-width");return e.scrollWidth+t+n},height:function(e){var t=i(e,"height");if(!isNaN(t))return t;var t=i(e,"border-top-width"),n=i(e,"border-bottom-width");return e.scrollHeight+t+n},getWindow:t,isElement:r,isElementHostForOpenShadowRoot:function(e){return r(e)&&null!==e.shadowRoot},isShadowRoot:n,isInShadowRoot:o,isHTMLElement:function(e){return e instanceof t(e).HTMLElement},isHTMLCanvasElement:function(e){return e instanceof t(e).HTMLCanvasElement},isHTMLInputElement:function(e){return e instanceof t(e).HTMLInputElement},isHTMLImageElement:function(e){return e instanceof t(e).HTMLImageElement},isHTMLLinkElement:function(e){return e instanceof t(e).HTMLLinkElement},isHTMLScriptElement:function(e){return e instanceof t(e).HTMLScriptElement},isHTMLStyleElement:function(e){return e instanceof t(e).HTMLStyleElement},isHTMLTextAreaElement:function(e){return e instanceof t(e).HTMLTextAreaElement},isShadowSlotElement:function(e){return o(e)&&e instanceof t(e).HTMLSlotElement},isSVGElement:function(e){return e instanceof t(e).SVGElement},isSVGRectElement:function(e){return e instanceof t(e).SVGRectElement},isDimensionMissing:function(e){return isNaN(e)||e<=0}};function t(e){e=e?e.ownerDocument:void 0;return(e?e.defaultView:void 0)||window||l}function n(e){return e instanceof t(e).ShadowRoot}function o(e){return null!=e&&void 0!==e.getRootNode&&n(e.getRootNode())}function r(e){return e instanceof t(e).Element}function i(t,n){if(t.nodeType===f){let e=h(t).getPropertyValue(n);if("px"===e.slice(-2))return e=e.slice(0,-2),parseFloat(e)}return NaN}})(),r=(()=>{let o=/url\(\s*(["']?)((?:\\.|[^\\)])+)\1\s*\)/gm;return{inlineAll:function(t,o,r){if(!e(t))return Promise.resolve(t);return Promise.resolve(t).then(n).then(function(e){let n=Promise.resolve(t);return e.forEach(function(t){n=n.then(function(e){return i(e,t,o,r)})}),n})},shouldProcess:e,impl:{readUrls:n,inline:i,urlAsRegex:r}};function e(e){return-1!==e.search(o)}function n(e){for(var t,n=[];null!==(t=o.exec(e));)n.push(t[2]);return n.filter(function(e){return!m.isDataUrl(e)})}function r(e){return new RegExp(`url\\((["']?)(${m.escape(e)})\\1\\)`,"gm")}function i(n,o,t,e){return Promise.resolve(o).then(function(e){return t?m.resolveUrl(e,t):e}).then(e||m.getAndEncode).then(function(e){var t=r(o);return n.replace(t,`url($1${e}$1)`)})}})(),e={resolveAll:function(){return t().then(function(e){return Promise.all(e.map(function(e){return e.resolve()}))}).then(function(e){return e.join("\n")})},impl:{readAll:t}};function t(){return Promise.resolve(m.asArray(document.styleSheets)).then(function(e){let n=[];return e.forEach(function(t){var e=Object.getPrototypeOf(t);if(Object.prototype.hasOwnProperty.call(e,"cssRules"))try{m.asArray(t.cssRules||[]).forEach(n.push.bind(n))}catch(e){console.error("domtoimage: Error while reading CSS rules from: "+t.href,e.toString())}}),n}).then(function(e){return e.filter(function(e){return e.type===CSSRule.FONT_FACE_RULE}).filter(function(e){return r.shouldProcess(e.style.getPropertyValue("src"))})}).then(function(e){return e.map(t)});function t(t){return{resolve:function(){var e=(t.parentStyleSheet||{}).href;return r.inlineAll(t.cssText,e)},src:function(){return t.style.getPropertyValue("src")}}}}let n={inlineAll:function t(e){if(!m.isElement(e))return Promise.resolve(e);return n(e).then(function(){return m.isHTMLImageElement(e)?o(e).inline():Promise.all(m.asArray(e.childNodes).map(function(e){return t(e)}))});function n(o){let e=["background","background-image"],t=e.map(function(t){let e=o.style.getPropertyValue(t),n=o.style.getPropertyPriority(t);return e?r.inlineAll(e).then(function(e){o.style.setProperty(t,e,n)}):Promise.resolve()});return Promise.all(t).then(function(){return o})}},impl:{newImage:o}};function o(n){return{inline:function(e){if(m.isDataUrl(n.src))return Promise.resolve();return Promise.resolve(n.src).then(e||m.getAndEncode).then(function(t){return new Promise(function(e){n.onload=e,n.onerror=e,n.src=t})})}}}let i={copyDefaultStyles:!0,imagePlaceholder:void 0,cacheBust:!1,useCredentials:!1,useCredentialsFilters:[],httpTimeout:3e4,styleCaching:"strict",corsImg:void 0,adjustClonedNode:void 0,filterStyles:void 0},d={toSvg:u,toPng:function(e,t){return a(e,t).then(function(e){return e.toDataURL()})},toJpeg:function(e,t){return a(e,t).then(function(e){return e.toDataURL("image/jpeg",(t?t.quality:void 0)||1)})},toBlob:function(e,t){return a(e,t).then(m.canvasToBlob)},toPixelData:function(t,e){return a(t,e).then(function(e){return e.getContext("2d").getImageData(0,0,m.width(t),m.height(t)).data})},toCanvas:a,impl:{fontFaces:e,images:n,util:m,inliner:r,urlCache:[],options:{},copyOptions:function(e){void 0===e.copyDefaultStyles?d.impl.options.copyDefaultStyles=i.copyDefaultStyles:d.impl.options.copyDefaultStyles=e.copyDefaultStyles;d.impl.options.imagePlaceholder=(void 0===e.imagePlaceholder?i:e).imagePlaceholder;d.impl.options.cacheBust=(void 0===e.cacheBust?i:e).cacheBust;d.impl.options.corsImg=(void 0===e.corsImg?i:e).corsImg;d.impl.options.useCredentials=(void 0===e.useCredentials?i:e).useCredentials;d.impl.options.useCredentialsFilters=(void 0===e.useCredentialsFilters?i:e).useCredentialsFilters;d.impl.options.httpTimeout=(void 0===e.httpTimeout?i:e).httpTimeout;d.impl.options.styleCaching=(void 0===e.styleCaching?i:e).styleCaching}}},f=("object"==typeof exports&&"object"==typeof module?module.exports=d:l.domtoimage=d,(void 0===Node?void 0:Node.ELEMENT_NODE)||1),h=(void 0===l?void 0:l.getComputedStyle)||(void 0===window?void 0:window.getComputedStyle)||globalThis.getComputedStyle,s=(void 0===l?void 0:l.atob)||(void 0===window?void 0:window.atob)||globalThis.atob;function u(t,r){let n=d.impl.util.getWindow(t),o=(r=r||{},d.impl.copyOptions(r),[]);return Promise.resolve(t).then(function(e){if(e.nodeType===f)return e;var t=e,n=document.createElement("span");return t.replaceWith(n),n.append(e),o.push({child:t,wrapper:n}),n}).then(function(e){return function l(t,s,i,u){let e=s.filter;if(t===p||m.isHTMLScriptElement(t)||m.isHTMLStyleElement(t)||m.isHTMLLinkElement(t)||null!==i&&e&&!e(t))return Promise.resolve();return Promise.resolve(t).then(n).then(o).then(function(e){return c(e,a(t))}).then(r).then(function(e){return d(e,t)});function n(e){return m.isHTMLCanvasElement(e)?m.makeImage(e.toDataURL()):e.cloneNode(!1)}function o(e){return s.adjustClonedNode&&s.adjustClonedNode(t,e,!1),Promise.resolve(e)}function r(e){return s.adjustClonedNode&&s.adjustClonedNode(t,e,!0),Promise.resolve(e)}function a(e){return m.isElementHostForOpenShadowRoot(e)?e.shadowRoot:e}function c(n,e){let o=t(e),r=Promise.resolve();if(0!==o.length){let t=h(i(e));m.asArray(o).forEach(function(e){r=r.then(function(){return l(e,s,t,u).then(function(e){e&&n.appendChild(e)})})})}return r.then(function(){return n});function i(e){return m.isShadowRoot(e)?e.host:e}function t(t){if(m.isShadowSlotElement(t)){let e=t.assignedNodes();if(e&&0<e.length)return e}return t.childNodes}}function d(u,a){return!m.isElement(u)||m.isShadowSlotElement(a)?Promise.resolve(u):Promise.resolve().then(t).then(n).then(o).then(r).then(e).then(function(){return u});function e(){m.isHTMLImageElement(u)&&(u.removeAttribute("loading"),a.srcset||a.sizes)&&(u.removeAttribute("srcset"),u.removeAttribute("sizes"),u.src=a.currentSrc||a.src)}function t(){function o(e,t){t.font=e.font,t.fontFamily=e.fontFamily,t.fontFeatureSettings=e.fontFeatureSettings,t.fontKerning=e.fontKerning,t.fontSize=e.fontSize,t.fontStretch=e.fontStretch,t.fontStyle=e.fontStyle,t.fontVariant=e.fontVariant,t.fontVariantCaps=e.fontVariantCaps,t.fontVariantEastAsian=e.fontVariantEastAsian,t.fontVariantLigatures=e.fontVariantLigatures,t.fontVariantNumeric=e.fontVariantNumeric,t.fontVariationSettings=e.fontVariationSettings,t.fontWeight=e.fontWeight}function e(e,t){let n=h(e);n.cssText?(t.style.cssText=n.cssText,o(n,t.style)):(y(s,e,n,i,t),null===i&&(["inset-block","inset-block-start","inset-block-end"].forEach(e=>t.style.removeProperty(e)),["left","right","top","bottom"].forEach(e=>{t.style.getPropertyValue(e)&&t.style.setProperty(e,"0px")})))}e(a,u)}function n(){let s=m.uid();function t(r){let i=h(a,r),l=i.getPropertyValue("content");if(""!==l&&"none"!==l){let e=u.getAttribute("class")||"",t=(u.setAttribute("class",e+" "+s),document.createElement("style"));function n(){let e=`.${s}:`+r,t=(i.cssText?n:o)();return document.createTextNode(e+`{${t}}`);function n(){return`${i.cssText} content: ${l};`}function o(){let e=m.asArray(i).map(t).join("; ");return e+";";function t(e){let t=i.getPropertyValue(e),n=i.getPropertyPriority(e)?" !important":"";return e+": "+t+n}}}t.appendChild(n()),u.appendChild(t)}}[":before",":after"].forEach(function(e){t(e)})}function o(){m.isHTMLTextAreaElement(a)&&(u.innerHTML=a.value),m.isHTMLInputElement(a)&&u.setAttribute("value",a.value)}function r(){m.isSVGElement(u)&&(u.setAttribute("xmlns","http://www.w3.org/2000/svg"),m.isSVGRectElement(u))&&["width","height"].forEach(function(e){let t=u.getAttribute(e);t&&u.style.setProperty(e,t)})}}}(e,r,null,n)}).then(r.disableEmbedFonts?Promise.resolve(t):c).then(r.disableInlineImages?Promise.resolve(t):g).then(function(t){r.bgcolor&&(t.style.backgroundColor=r.bgcolor);r.width&&(t.style.width=r.width+"px");r.height&&(t.style.height=r.height+"px");r.style&&Object.keys(r.style).forEach(function(e){t.style[e]=r.style[e]});let e=null;"function"==typeof r.onclone&&(e=r.onclone(t));return Promise.resolve(e).then(function(){return t})}).then(function(e){let n=r.width||m.width(t),o=r.height||m.height(t);return Promise.resolve(e).then(function(e){return e.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(e)}).then(m.escapeXhtml).then(function(e){var t=(m.isDimensionMissing(n)?' width="100%"':` width="${n}"`)+(m.isDimensionMissing(o)?' height="100%"':` height="${o}"`);return`<svg xmlns="http://www.w3.org/2000/svg"${(m.isDimensionMissing(n)?"":` width="${n}"`)+(m.isDimensionMissing(o)?"":` height="${o}"`)}><foreignObject${t}>${e}</foreignObject></svg>`}).then(function(e){return"data:image/svg+xml;charset=utf-8,"+e})}).then(function(e){for(;0<o.length;){var t=o.pop();t.wrapper.replaceWith(t.child)}return e}).then(function(e){return d.impl.urlCache=[],(()=>{p&&(document.body.removeChild(p),p=null),v&&clearTimeout(v),v=setTimeout(()=>{v=null,w={}},2e4)})(),e})}function a(r,i){return u(r,i=i||{}).then(m.makeImage).then(function(e){var t="number"!=typeof i.scale?1:i.scale,n=((e,t)=>{let n=i.width||m.width(e),o=i.height||m.height(e);return m.isDimensionMissing(n)&&(n=m.isDimensionMissing(o)?300:2*o),m.isDimensionMissing(o)&&(o=n/2),(e=document.createElement("canvas")).width=n*t,e.height=o*t,i.bgcolor&&((t=e.getContext("2d")).fillStyle=i.bgcolor,t.fillRect(0,0,e.width,e.height)),e})(r,t),o=n.getContext("2d");return o.msImageSmoothingEnabled=!1,o.imageSmoothingEnabled=!1,e&&(o.scale(t,t),o.drawImage(e,0,0)),n})}let p=null;function c(n){return e.resolveAll().then(function(e){var t;return""!==e&&(t=document.createElement("style"),n.appendChild(t),t.appendChild(document.createTextNode(e))),n})}function g(e){return n.inlineAll(e).then(function(){return e})}function y(i,l,s,u,e){let a=d.impl.options.copyDefaultStyles?((t,e)=>{var n,o=(e=>("relaxed"!==t.styleCaching?e:e.filter((e,t,n)=>0===t||t===n.length-1)).join(">"))(e=(e=>{var t=[];do{if(e.nodeType===f){var n=e.tagName;if(t.push(n),E.includes(n))break}}while(e=e.parentNode);return t})(e));{if(w[o])return w[o];e=((e,t)=>{let n=e.body;do{var o=t.pop(),o=e.createElement(o);n.appendChild(o),n=o}while(0<t.length);return n.textContent="​",n})((n=(()=>{if(p)return p.contentWindow;t=document.characterSet||"UTF-8",e=(e=document.doctype)?(`<!DOCTYPE ${s(e.name)} ${s(e.publicId)} `+s(e.systemId)).trim()+">":"",(p=document.createElement("iframe")).id="domtoimage-sandbox-"+m.uid(),p.style.top="-9999px",p.style.visibility="hidden",p.style.position="fixed",document.body.appendChild(p);var e,t,n=p,o="domtoimage-sandbox";try{return n.contentWindow.document.write(e+`<html><head><meta charset='${t}'><title>${o}</title></head><body></body></html>`),n.contentWindow}catch(e){}var r=document.createElement("meta");r.setAttribute("charset",t);try{var i=document.implementation.createHTMLDocument(o),l=(i.head.appendChild(r),e+i.documentElement.outerHTML);return n.setAttribute("srcdoc",l),n.contentWindow}catch(e){}return n.contentDocument.head.appendChild(r),n.contentDocument.title=o,n.contentWindow;function s(e){var t;return e?((t=document.createElement("div")).innerText=e,t.innerHTML):""}})()).document,e),n=((e,t)=>{let n={},o=e.getComputedStyle(t);return m.asArray(o).forEach(function(e){n[e]="width"===e||"height"===e?"auto":o.getPropertyValue(e)}),n})(n,e);var r=e;do{var i=r.parentElement;null!==i&&i.removeChild(r),r=i}while(r&&"BODY"!==r.tagName);return w[o]=n}})(i,l):{},c=e.style;m.asArray(s).forEach(function(e){var t,n,o,r;i.filterStyles&&!i.filterStyles(l,e)||(n=s.getPropertyValue(e),o=a[e],t=u?u.getPropertyValue(e):void 0,c.getPropertyValue(e))||(n!==o||u&&n!==t)&&(o=s.getPropertyPriority(e),t=c,n=n,o=o,r=0<=["background-clip"].indexOf(e=e),o?(t.setProperty(e,n,o),r&&t.setProperty("-webkit-"+e,n,o)):(t.setProperty(e,n),r&&t.setProperty("-webkit-"+e,n)))})}let v=null,w={},E=["ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","DETAILS","DIALOG","DD","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","LI","MAIN","NAV","OL","P","PRE","SECTION","SVG","TABLE","UL","math","svg","BODY","HEAD","HTML"]})(this);
//# sourceMappingURL=dom-to-image-more.min.js.map